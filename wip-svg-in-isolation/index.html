<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SVG in isolation</title>
    <style>
        html {
            background-color: #c00;
        }
        
        #waves path {
            opacity: 0; /* start in a muted state */
        }

        #x {
            transition: opacity 0.2s ease-in-out;
        }

        #inner-wave {
            transition: opacity 0.1s ease-in-out;
        }

        #middle-wave {
            transition: opacity 0.1s ease-in-out 0.05s;
        }

        #outer-wave {
            transition: opacity 0.1s ease-in-out 0.2s;
        }

    </style>
</head>
<body>
    <!-- TODO: add aria-controls -->
    <svg role="button" width="432px" height="432px" viewBox="0 0 432 432" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <!-- Generator: Sketch 56.3 (81716) - https://sketch.com -->
        <title>volume-icon</title>
        <desc>Created with Sketch.</desc>
        <g id="sound-icon" transform="translate(20.000000, 20.000000)" fill="none" fill-rule="evenodd">
            <g id="inner" transform="translate(83.000000, 106.000000)">
                <g id="x" transform="translate(152.000000, 59.000000)" stroke="#FFFFFF" stroke-linecap="round" stroke-width="16">
                    <path d="M1,0.298076923 L64,61.7019231"></path>
                    <path d="M0,61.7019231 L62.5984399,0.0971091768"></path>
                </g>
                <g id="waves" transform="translate(141.000000, 0.000000)" stroke="#FFFFFF" stroke-linecap="round" stroke-width="16">
                    <path id="inner-wave" d="M0.384154091,49 C10.6538535,59.3368857 17,73.5810963 17,89.3084813 C17,105.231046 10.4953627,119.633395 0,130"></path>
                    <path id="middle-wave" d="M24.3823657,24 C40.8316774,40.6069559 51,63.513072 51,88.8081166 C51,114.298581 40.6739576,137.363062 24,154"></path>
                    <path id="outer-wave" d="M48.3918607,0 C71.6317632,22.8770407 86,54.4451455 86,89.307951 C86,124.366285 71.470142,156.092858 48,179"></path>
                </g>
                <path id="spkr" d="M109.488,1.75502447 L45.613,48.1010245 L6.901,48.1010245 C3.09,48.1010245 0,52.6340245 0,58.2250245 L0,121.780024 C0,127.370024 3.09,131.902024 6.901,131.902024 L45.613,131.902024 L109.488,178.246024 C110.326,178.752024 111.216,179.000024 112.099,179.000024 C113.449,179.000024 114.791,178.419024 115.947,177.284024 C117.854,175.403024 119,172.251024 119,168.876024 L119,11.1250245 C119,7.75102447 117.854,4.60002447 115.947,2.71802447 C114.037,0.834424466 111.61,0.478524466 109.488,1.75502447 Z" fill="#FFFFFF"></path>
            </g>
            <circle stroke="#FFFFFF" stroke-width="20" fill-opacity="0.5" fill="#FFFFFF" fill-rule="nonzero" cx="196" cy="196" r="206"></circle>
        </g>
    </svg>
    <script>
    (() => {
        const soundToggle = document.querySelector('#sound-icon');
        const x = document.querySelector('#sound-icon #x');
        const waves = [...document.querySelectorAll('#sound-icon #waves path')];

        const play = function() {
            x.style.opacity = 0;
            waves.forEach(wave => wave.style.opacity = '1');
        };

        const mute = function() {
            x.style.opacity = 1;
            waves.forEach(wave => wave.style.opacity = '0');
        };

        // TODO: maybe this func should just decide whether to run play / mute
        // based on some 'isPlaying' state of audio
        // but the animations are nice so these can go in the project now! :D
        const toggle = function() {
            x.style.opacity = Number.parseFloat(x.style.opacity) ? '0' : '1';
            waves.forEach(wave => {
                console.log(wave.id, Number.parseInt(wave.style.opacity))
                wave.style.opacity = Number.parseInt(wave.style.opacity) ? '0' : '1';
            });
        };

        soundToggle.addEventListener('click', toggle);

    })();
    </script>
</body>
</html>